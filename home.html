 <!doctype html>
<html lang="id" data-theme="light">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>FluentBiz ‚Äî Portal</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@600&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#f4f9ff; --panel:#ffffff; --muted:#6b7280;
  --blue:#2563EB; --violet:#6C63FF; --card-border:rgba(7,16,42,0.06);
  --radius:12px;
}
[data-theme="dark"]{ --bg:#07102a; --panel:linear-gradient(180deg,#07102a,#041226); --muted:#9aa4b2; --card-border:rgba(255,255,255,0.04) }
*{box-sizing:border-box;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial}
body{margin:0;background:var(--bg);color:#07102a;min-height:100vh;-webkit-font-smoothing:antialiased}
.wrap{max-width:1200px;margin:20px auto;padding:18px}
.layout{display:grid;grid-template-columns:260px 1fr;gap:18px}
.sidebar{background:var(--panel);padding:18px;border-radius:14px;border:1px solid var(--card-border);height:calc(100vh - 36px);position:sticky;top:18px;box-shadow:0 8px 30px rgba(16,24,40,0.04)}
.logo{display:flex;align-items:center;gap:10px;margin-bottom:14px}
.logo .text{font-family:Poppins;font-weight:700;color:var(--blue)}
.small{font-size:13px;color:var(--muted)}
.nav{display:flex;flex-direction:column;gap:8px;margin-top:8px}
.nav button{background:transparent;border:0;text-align:left;padding:10px;border-radius:8px;color:var(--muted);cursor:pointer}
.nav button.active{background:rgba(37,99,235,0.07);color:var(--blue);font-weight:700}
.card{background:var(--panel);padding:14px;border-radius:12px;border:1px solid var(--card-border);box-shadow:0 8px 24px rgba(16,24,40,0.03);transition:transform .18s ease}
.card:hover{transform:translateY(-6px)}
.hero{display:grid;grid-template-columns:1fr 380px;gap:18px;align-items:start}
.feat-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:12px}
.btn{padding:10px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:700}
.btn.primary{background:linear-gradient(90deg,var(--blue),var(--violet));color:white;box-shadow:0 12px 30px rgba(37,99,235,0.12)}
.btn.ghost{background:transparent;border:1px solid rgba(7,16,42,0.06);color:var(--muted)}
.kicker{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:0.06em}
.grid-split{display:grid;grid-template-columns:2fr 1fr;gap:12px;margin-top:12px}
@media(max-width:980px){ .layout{grid-template-columns:1fr} .hero{grid-template-columns:1fr} .grid-split{grid-template-columns:1fr} .feat-grid{grid-template-columns:1fr} .sidebar{position:static;height:auto} }
.fade-up{transform:translateY(10px);opacity:0;animation:fadeUp .45s forwards}
@keyframes fadeUp{to{transform:none;opacity:1}}
</style>
</head>
<body>
<div class="wrap">
  <div class="layout">
    <aside class="sidebar">
      <div class="logo">
        <div class="text">FluentBiz</div>
        <div>
          <div style="font-weight:700">Analitik Otomatis</div>
          <div class="small">Manual trigger + Autopilot</div>
        </div>
      </div>

      <nav class="nav" id="nav">
        <button class="active" data-page="portal" onclick="goPage(event,'portal')">üè† Home</button>
        <button data-page="integrations" onclick="goPage(event,'integrations')">üîó Integrations</button>
        <button data-page="subscriptions" onclick="goPage(event,'subscriptions')">üí≥ Subscriptions</button>
        <button data-page="support" onclick="goPage(event,'support')">üí¨ Customer Service</button>
        <button data-page="settings" onclick="goPage(event,'settings')">‚öôÔ∏è Settings</button>
        <button style="margin-top:10px;color:#d14343" onclick="logout()">üö™ Logout</button>
      </nav>

      <div style="margin-top:16px">
        <div class="kicker">Autopilot</div>
        <div style="display:flex;gap:8px;margin-top:8px">
          <button class="btn ghost" onclick="runAutopilotNow()">Run Now</button>
          <button class="btn primary" id="autoToggle" onclick="toggleAutopilot()">Enable</button>
        </div>
      </div>

      <div style="margin-top:18px">
        <div class="kicker">Theme</div>
        <div style="margin-top:8px"><button class="btn" onclick="toggleTheme()">Light / Dark</button></div>
      </div>
    </aside>

    <main>
      <!-- Portal -->
      <section id="portal" class="page">
        <div class="hero card fade-up">
          <div>
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div>
                <div style="font-weight:800;font-size:18px" id="welcomeTxt">Selamat datang, Admin FluentBiz üëã</div>
                <div class="small">Pilih jenis integrasi & buka dashboard khusus.</div>
              </div>
              <div style="text-align:right">
                <div class="small">Trial</div>
                <div id="trialBadge" style="font-weight:800">‚Äî</div>
              </div>
            </div>

            <div class="feat-grid" style="margin-top:12px">
              <div class="card">
                <div style="font-weight:700">Seller Online</div>
                <div class="small" style="margin-top:6px">Shopee / Tokopedia / Lazada / TikTok Shop</div>
                <div style="margin-top:8px"><button class="btn primary" onclick="quick('seller')">Connect Seller</button></div>
              </div>
              <div class="card">
                <div style="font-weight:700">Perusahaan</div>
                <div class="small" style="margin-top:6px">ERP / CSV / Finance</div>
                <div style="margin-top:8px"><button class="btn primary" onclick="quick('company')">Connect Company</button></div>
              </div>
              <div class="card">
                <div style="font-weight:700">Aplikasi</div>
                <div class="small" style="margin-top:6px">App SDK / Firebase</div>
                <div style="margin-top:8px"><button class="btn primary" onclick="quick('app')">Connect App</button></div>
              </div>
              <div class="card">
                <div style="font-weight:700">Manual</div>
                <div class="small" style="margin-top:6px">Input data kasir / toko offline</div>
                <div style="margin-top:8px"><button class="btn primary" onclick="toManual()">Dashboard Manual</button></div>
              </div>
            </div>

            <div class="grid-split" style="margin-top:14px">
              <div>
                <div class="card">
                  <div style="display:flex;justify-content:space-between;align-items:center">
                    <div style="font-weight:800">Ringkasan Cepat</div>
                    <div class="small">Overview integrasi</div>
                  </div>
                  <div id="activeIntegrations" style="margin-top:12px" class="small">Belum ada integrasi</div>
                </div>

                <div class="card" style="margin-top:12px">
                  <div style="font-weight:800">Produk Unggulan</div>
                  <div class="small" style="margin-top:8px">Contoh insight & CTA</div>
                  <div style="margin-top:10px" id="promoCard">Produk kamu naik 12% minggu ini ‚Äî pelajari campaign.</div>
                </div>
              </div>

              <div>
                <div class="card">
                  <div style="font-weight:800">Langganan & Akses</div>
                  <div class="small" style="margin-top:8px">Kelola trial dan plan</div>
                  <div style="margin-top:12px">
                    <button class="btn ghost" onclick="openPage('subscriptions')">Kelola Langganan</button>
                  </div>
                </div>

                <div class="card" style="margin-top:12px">
                  <div style="font-weight:800">Customer Service</div>
                  <div class="small" style="margin-top:8px">support@fluentbiz.test</div>
                </div>
              </div>
            </div>
          </div>

          <div class="card" style="padding:12px;max-width:380px">
            <div style="font-weight:800">Aksi Cepat</div>
            <div class="small" style="margin-top:8px">Mulai integrasi atau buka dashboard</div>
            <div style="display:flex;gap:8px;margin-top:12px;flex-wrap:wrap">
              <button class="btn primary" onclick="quick('seller')">Seller Dashboard</button>
              <button class="btn primary" onclick="quick('company')">Company Dashboard</button>
              <button class="btn primary" onclick="quick('app')">App Dashboard</button>
              <button class="btn primary" onclick="toManual()">Manual</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Integrations -->
      <section id="integrations" class="page" style="display:none">
        <div class="card fade-up">
          <div style="font-weight:800">Integrations</div>
          <div class="small" style="margin-top:8px">Demo connectors ‚Äî nanti ganti ke OAuth/API nyata</div>
          <div style="margin-top:12px;display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px">
            <div class="card"><div style="font-weight:700">Shopee</div><div class="small">Demo</div><div style="margin-top:8px"><button class="btn primary" onclick="connectDemo('shopee')">Connect</button></div></div>
            <div class="card"><div style="font-weight:700">Tokopedia</div><div class="small">Demo</div><div style="margin-top:8px"><button class="btn primary" onclick="connectDemo('tokopedia')">Connect</button></div></div>
            <div class="card"><div style="font-weight:700">Lazada</div><div class="small">Demo</div><div style="margin-top:8px"><button class="btn primary" onclick="connectDemo('lazada')">Connect</button></div></div>
            <div class="card"><div style="font-weight:700">TikTok Shop</div><div class="small">Demo</div><div style="margin-top:8px"><button class="btn primary" onclick="connectDemo('tiktok')">Connect</button></div></div>
            <div class="card"><div style="font-weight:700">ERP / CSV</div><div class="small">Demo</div><div style="margin-top:8px"><button class="btn primary" onclick="connectDemo('erp')">Connect</button></div></div>
            <div class="card"><div style="font-weight:700">App SDK</div><div class="small">Demo</div><div style="margin-top:8px"><button class="btn primary" onclick="connectDemo('app')">Connect</button></div></div>
          </div>
        </div>
      </section>

      <!-- Subscriptions -->
      <section id="subscriptions" class="page" style="display:none">
        <div class="card">
          <div style="font-weight:800">Langganan</div>
          <div class="small" style="margin-top:8px">Trial 7 hari ‚Äî hubungkan pembayaran untuk produksi</div>
          <div style="margin-top:12px;display:flex;gap:12px;flex-wrap:wrap">
            <div class="card" style="flex:1;min-width:200px"><div style="font-weight:700">Free Trial</div><div class="small">7 hari</div><div style="margin-top:8px"><button class="btn primary" onclick="activateTrial()">Aktifkan</button></div></div>
            <div class="card" style="flex:1;min-width:200px"><div style="font-weight:700">Pro</div><div class="small">Rp199.000 / bulan</div><div style="margin-top:8px"><button class="btn primary" onclick="subscribe()">Subscribe</button></div></div>
          </div>
        </div>
      </section>

      <!-- Support -->
      <section id="support" class="page" style="display:none">
        <div class="card"><div style="font-weight:800">Customer Service</div><div class="small" style="margin-top:8px">support@fluentbiz.test ‚Äî Demo</div></div>
      </section>

      <!-- Settings -->
      <section id="settings" class="page" style="display:none">
        <div class="card">
          <div style="font-weight:800">Settings</div>
          <div class="small" style="margin-top:8px">Profil & preferensi</div>
          <div style="margin-top:10px">
            <label class="small">Nama</label>
            <input id="profileName" style="width:100%;padding:10px;border-radius:8px;border:1px solid var(--card-border);margin-top:8px"/>
            <div style="margin-top:10px"><button class="btn primary" onclick="saveProfile()">Simpan</button></div>
          </div>
        </div>
      </section>

    </main>
  </div>
</div>

<script>
/* Basic portal logic */
const current = JSON.parse(localStorage.getItem('fluentbiz_current')||'null');
if(!current) location.href='index.html';
document.getElementById('welcomeTxt').innerText = `Selamat datang, ${current.name||current.email.split('@')[0]} üëã`;
const ts = localStorage.getItem('fluentbiz_trialStart');
document.getElementById('trialBadge').innerText = ts ? `${Math.max(0,7 - Math.floor((Date.now()-new Date(ts))/(1000*60*60*24)))} hari tersisa` : '‚Äî';

function goPage(e,id){
  if(e && e.currentTarget) document.querySelectorAll('.nav button').forEach(b=>b.classList.remove('active')), e.currentTarget.classList.add('active');
  document.querySelectorAll('.page').forEach(p=>p.style.display='none');
  document.getElementById(id).style.display='block';
}
function openPage(id){ goPage({currentTarget:document.querySelector('[data-page="'+id+'"]')}, id); }

/* Quick connect demo store type -> redirect to relevant dashboard */
function quick(type){
  const key = type + '_' + Date.now();
  const store = JSON.parse(localStorage.getItem('fluentbiz_integrations')||'{}');
  store[key] = { id:key, key:type, type, connectedAt: new Date().toISOString(), demo:true };
  localStorage.setItem('fluentbiz_integrations', JSON.stringify(store));
  if(type==='seller') location.href='dashboard-seller.html';
  else if(type==='company') location.href='dashboard-company.html';
  else if(type==='app') location.href='dashboard-app.html';
}
function toManual(){ location.href='dashboard-manual.html'; }

/* integrations demo */
function connectDemo(key){ quick(key); alert('Connected (demo): '+key); }

/* subscriptions */
function activateTrial(){ localStorage.setItem('fluentbiz_trialStart', new Date().toISOString()); alert('Trial aktif (demo)'); document.getElementById('trialBadge').innerText='7 hari tersisa'; }
function subscribe(){ alert('Subscribe placeholder ‚Äî hubungkan payment gateway'); }

/* profile */
function saveProfile(){ const v=document.getElementById('profileName').value.trim(); if(!v) return alert('Isi nama'); const cur=JSON.parse(localStorage.getItem('fluentbiz_current')); cur.name=v; localStorage.setItem('fluentbiz_current', JSON.stringify(cur)); alert('Profile saved (demo)'); location.reload(); }

/* active integrations list */
function updateActive(){ const s=JSON.parse(localStorage.getItem('fluentbiz_integrations')||'{}'); const keys=Object.keys(s); document.getElementById('activeIntegrations').innerText = keys.length? keys.map(k=>s[k].key+' ('+s[k].type+')').join(', '):'Belum ada integrasi'; }
updateActive();

/* Logout */
function logout(){ localStorage.removeItem('fluentbiz_current'); location.href='index.html'; }

/* Theme */
function toggleTheme(){ const cur=document.documentElement.getAttribute('data-theme')||'light'; const next = cur==='light'?'dark':'light'; document.documentElement.setAttribute('data-theme',next); localStorage.setItem('fluentbiz_theme', next); }
(function(){ const saved = localStorage.getItem('fluentbiz_theme'); if(saved) document.documentElement.setAttribute('data-theme', saved); })();

/* Autopilot demo */
let autopilot = localStorage.getItem('fluentbiz_autopilot')==='true';
document.getElementById('autoToggle').innerText = autopilot ? 'Disable' : 'Enable';
function toggleAutopilot(){ autopilot = !autopilot; localStorage.setItem('fluentbiz_autopilot', autopilot?'true':'false'); document.getElementById('autoToggle').innerText = autopilot ? 'Disable' : 'Enable'; if(autopilot) runAutopilotNow(); }
async function runAutopilotNow(){
  // try call backend autopilot; fallback demo
  const BACKEND_BASE = ''; // set backend URL if available
  try{
    if(BACKEND_BASE) await fetch(BACKEND_BASE + '/autopilot/run', { method:'POST' });
    alert('Autopilot (demo) dijalankan');
  }catch(e){ alert('Autopilot demo dijalankan'); }
}
</script>
</body>
</html>

<!doctype html>
<html lang="id" data-theme="light">
<head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>FluentBiz ‚Äî Portal</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@600&display=swap" rel="stylesheet">
  <style>
    :root{--accent:#2563EB;--accent2:#6C63FF;--muted:#6b7280;--bg:#f7fbff;--panel:#fff;--border:rgba(7,16,42,0.06)}
    [data-theme="dark"]{--bg:#07102a;--panel:linear-gradient(180deg,rgba(10,14,30,0.6),rgba(8,10,20,0.6));--muted:#9aa4b2;--border:rgba(255,255,255,0.04)}
    *{box-sizing:border-box;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial}
    body{margin:0;background:var(--bg);color:var(--text,#07102a);min-height:100vh}
    .wrap{max-width:1200px;margin:20px auto;padding:18px}
    .layout{display:grid;grid-template-columns:260px 1fr;gap:20px}
    .sidebar{background:var(--panel);padding:16px;border-radius:12px;border:1px solid var(--border);height:calc(100vh - 40px);position:sticky;top:20px}
    .mark{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent2),var(--accent));display:flex;align-items:center;justify-content:center;color:white;font-weight:800}
    .nav{display:flex;flex-direction:column;gap:8px;margin-top:12px}
    .nav button{padding:10px;border-radius:8px;border:0;background:transparent;text-align:left;color:var(--muted);cursor:pointer}
    .nav button.active{background:rgba(37,99,235,0.07);color:var(--accent);font-weight:700}
    .small{font-size:13px;color:var(--muted)}
    .hero{background:linear-gradient(180deg,#ffffffee, #f3f8ff);padding:18px;border-radius:12px;border:1px solid var(--border)}
    .grid-feat{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}
    .card{background:var(--panel);padding:14px;border-radius:12px;border:1px solid var(--border)}
    .btn{padding:8px 12px;border-radius:8px;border:0;cursor:pointer;font-weight:700}
    .btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent2));color:white}
    @media(max-width:980px){ .layout{grid-template-columns:1fr} .sidebar{position:static;height:auto} .grid-feat{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="layout">
      <aside class="sidebar">
        <div style="display:flex;gap:10px;align-items:center">
          <div class="mark">FB</div>
          <div>
            <div style="font-weight:700">FluentBiz</div>
            <div class="small">Analitik Otomatis</div>
          </div>
        </div>

        <nav class="nav" id="sideNav" style="margin-top:12px">
          <button class="active" data-page="home" onclick="goPage(event,'home')">üè† Home</button>
          <button data-page="analytics" onclick="goPage(event,'analytics')">üìä Analytics</button>
          <button data-page="integrations" onclick="goPage(event,'integrations')">üîó Integrations</button>
          <button data-page="subscriptions" onclick="goPage(event,'subscriptions')">üí≥ Subscriptions</button>
          <button data-page="support" onclick="goPage(event,'support')">üí¨ Customer Service</button>
          <button data-page="settings" onclick="goPage(event,'settings')">‚öôÔ∏è Settings</button>
          <button style="margin-top:10px;color:#d14343" onclick="logout()">üö™ Logout</button>
        </nav>

        <div style="margin-top:12px">
          <div class="small">Theme</div>
          <div style="display:flex;gap:8px;margin-top:8px"><button class="btn" onclick="toggleTheme()">Light/Dark</button></div>
        </div>
      </aside>

      <main>
        <!-- Home utama: showroom + practical -->
        <section id="home" class="page">
          <div class="hero">
            <div>
              <div style="display:flex;justify-content:space-between;align-items:center">
                <div>
                  <div style="font-weight:800;font-size:18px" id="welcome">Selamat datang, Admin FluentBiz üëã</div>
                  <div class="small">Pilih integrasi atau buka dashboard manual untuk input data.</div>
                </div>
                <div style="text-align:right">
                  <div class="small">Trial</div>
                  <div id="trial" style="font-weight:800">‚Äî</div>
                </div>
              </div>

              <div class="grid-feat">
                <div class="card">
                  <div style="font-weight:800">Integrasi Cepat</div>
                  <div class="small" style="margin-top:8px">Sambungkan Shopee / Tokopedia / Lazada / TikTok / ERP / App SDK</div>
                  <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap">
                    <button class="btn primary" onclick="quickConnect('shopee')">Shopee</button>
                    <button class="btn primary" onclick="quickConnect('tokopedia')">Tokopedia</button>
                    <button class="btn primary" onclick="quickConnect('lazada')">Lazada</button>
                    <button class="btn primary" onclick="quickConnect('tiktok')">TikTok Shop</button>
                    <button class="btn primary" onclick="quickConnect('erp')">ERP</button>
                    <button class="btn primary" onclick="quickConnect('app')">App SDK</button>
                  </div>
                </div>

                <div class="card">
                  <div style="font-weight:800">Dashboard Manual</div>
                  <div class="small" style="margin-top:8px">Masuk ke dashboard manual untuk input data toko offline / kasir</div>
                  <div style="margin-top:12px">
                    <button class="btn primary" onclick="toManual()">Buka Dashboard Manual</button>
                  </div>
                </div>
              </div>
            </div>

            <div class="card" style="width:100%;max-width:420px">
              <div style="font-weight:800">Ringkasan Cepat</div>
              <div class="small" style="margin-top:8px">Lihat integrasi aktif & jalankan analisis manual di tiap dashboard.</div>
              <div style="margin-top:12px" id="activeList">Belum ada integrasi</div>
              <div style="margin-top:12px"><button class="btn" onclick="openIntegrations()">Kelola Integrasi</button></div>
            </div>
          </div>
        </section>

        <!-- Analytics placeholder -->
        <section id="analytics" class="page" style="display:none">
          <div class="card"><div style="font-weight:800">Analytics</div><div class="small" style="margin-top:8px">Halaman laporan menyeluruh (placeholder demo).</div></div>
        </section>

        <!-- Integrations page -->
        <section id="integrations" class="page" style="display:none">
          <div class="card"><div style="font-weight:800">Integrations</div>
            <div class="small" style="margin-top:8px">Demo connectors ‚Äî nanti ganti ke OAuth/API nyata.</div>
            <div style="margin-top:12px;display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px">
              <div class="card"><div style="font-weight:700">Shopee</div><div class="small">Demo connector</div><div style="margin-top:8px"><button class="btn primary" onclick="connectDemo('seller','shopee')">Connect</button></div></div>
              <div class="card"><div style="font-weight:700">Tokopedia</div><div class="small">Demo connector</div><div style="margin-top:8px"><button class="btn primary" onclick="connectDemo('seller','tokopedia')">Connect</button></div></div>
              <div class="card"><div style="font-weight:700">Lazada</div><div class="small">Demo connector</div><div style="margin-top:8px"><button class="btn primary" onclick="connectDemo('seller','lazada')">Connect</button></div></div>
              <div class="card"><div style="font-weight:700">TikTok Shop</div><div class="small">Demo connector</div><div style="margin-top:8px"><button class="btn primary" onclick="connectDemo('seller','tiktok')">Connect</button></div></div>
              <div class="card"><div style="font-weight:700">ERP / CSV</div><div class="small">Demo connector</div><div style="margin-top:8px"><button class="btn primary" onclick="connectDemo('company','erp')">Connect</button></div></div>
              <div class="card"><div style="font-weight:700">App SDK</div><div class="small">Demo connector</div><div style="margin-top:8px"><button class="btn primary" onclick="connectDemo('app','sdk')">Connect</button></div></div>
            </div>
          </div>
        </section>

        <section id="subscriptions" class="page" style="display:none">
          <div class="card"><div style="font-weight:800">Subscriptions</div><div class="small" style="margin-top:8px">Trial 7 hari ‚Äî hubungkan pembayaran untuk produksi.</div></div>
        </section>

        <section id="support" class="page" style="display:none">
          <div class="card"><div style="font-weight:800">Customer Service</div><div class="small" style="margin-top:8px">Hubungi: support@fluentbiz.test (demo)</div></div>
        </section>

        <section id="settings" class="page" style="display:none">
          <div class="card">
            <div style="font-weight:800">Settings</div>
            <div class="small" style="margin-top:8px">Profil & preferensi</div>
            <div style="margin-top:10px">
              <label class="small">Nama</label>
              <input id="profileName" style="width:100%;padding:10px;border-radius:8px;border:1px solid var(--border);margin-top:8px"/>
              <div style="margin-top:10px"><button class="btn primary" onclick="saveProfile()">Simpan</button></div>
            </div>
          </div>
        </section>

      </main>
    </div>
  </div>

<script>
/* Home portal logic */
const current = JSON.parse(localStorage.getItem('fluentbiz_current')||'null');
if(!current) location.href='index.html';
document.getElementById('welcome').innerText = `Selamat datang, ${current.name||current.email.split('@')[0]} üëã`;
const ts = localStorage.getItem('fluentbiz_trialStart');
document.getElementById('trial').innerText = ts ? `${Math.max(0,7 - Math.floor((Date.now()-new Date(ts))/(1000*60*60*24)))} hari tersisa` : '‚Äî';

function goPage(e, id){
  document.querySelectorAll('.page').forEach(p=>p.style.display='none');
  document.querySelectorAll('.nav button').forEach(b=>b.classList.remove('active'));
  e.currentTarget.classList.add('active');
  document.getElementById(id).style.display='block';
}
/* initial */
document.querySelectorAll('.page').forEach(p=>p.style.display='none');
document.getElementById('home').style.display='block';

/* quick connect demo: stores integration and redirects to dashboard */
function quickConnect(key){
  const type = (['shopee','tokopedia','lazada','tiktok'].includes(key)) ? 'seller' : key === 'erp' ? 'company' : 'app';
  const id = `${key}_${Date.now()}`;
  const store = JSON.parse(localStorage.getItem('fluentbiz_integrations')||'{}');
  store[id] = { id, key, type, connectedAt: new Date().toISOString(), demo:true };
  localStorage.setItem('fluentbiz_integrations', JSON.stringify(store));
  updateActive();
  // redirect to appropriate dashboard
  if(type==='seller') location.href='dashboard-seller.html';
  else if(type==='company') location.href='dashboard-company.html';
  else location.href='dashboard-app.html';
}
function connectDemo(type,key){ quickConnect(key); }
function toManual(){ location.href='dashboard-manual.html'; }
function openIntegrations(){ goPage({currentTarget:document.querySelector('[data-page="integrations"]')},'integrations'); }
function saveProfile(){ const v = document.getElementById('profileName').value.trim(); if(!v) return alert('Isi nama'); const cur=JSON.parse(localStorage.getItem('fluentbiz_current')); cur.name=v; localStorage.setItem('fluentbiz_current',JSON.stringify(cur)); alert('Profile saved (demo)'); location.reload(); }
function logout(){ localStorage.removeItem('fluentbiz_current'); location.href='index.html'; }
function updateActive(){ const store=JSON.parse(localStorage.getItem('fluentbiz_integrations')||'{}'); document.getElementById('activeList').innerText = Object.keys(store).length ? Object.keys(store).map(k=>store[k].key+' ('+store[k].type+')').join(', ') : 'Belum ada integrasi'; }
updateActive();

/* theme toggle: store preference */
function toggleTheme(){ const cur=document.documentElement.getAttribute('data-theme')||'light'; const next = cur==='light'?'dark':'light'; document.documentElement.setAttribute('data-theme',next); localStorage.setItem('fluentbiz_theme',next); }
(function(){ const saved = localStorage.getItem('fluentbiz_theme'); if(saved) document.documentElement.setAttribute('data-theme',saved); })();
</script>
</body>
</html>
